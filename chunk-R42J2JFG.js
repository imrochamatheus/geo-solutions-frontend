import{a as Y}from"./chunk-FYAWASKK.js";import{c as H,d as L}from"./chunk-2RQ2OMPP.js";import"./chunk-Z4SU7DYJ.js";import{a as B}from"./chunk-AJCXHZIR.js";import{a as R}from"./chunk-6NT6GWZQ.js";import{c as j,d as m,e as D,f as T,j as V,l as q,m as z,q as G,r as A,t as U}from"./chunk-ACJALHG7.js";import{l as I,o as N,r as x}from"./chunk-RFLB7YYO.js";import{Ca as c,D as v,Da as d,Eb as C,Hb as E,S as y,Wa as k,X as F,Ya as s,ba as f,eb as t,fb as o,gb as a,ka as P,kb as S,l as M,la as O,mb as p,nb as u,vb as r,wb as w,z as b}from"./chunk-6FEQCYFL.js";var J=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=f({type:n,selectors:[["app-footer"]],standalone:!0,features:[C],decls:58,vars:0,consts:[[1,"footer"],[1,"container"],[1,"footer-logo"],["src","assets/images/logo_img.png","alt","Geo Solu\xE7\xF5es"],[1,"footer-column"],[1,"fa-solid","fa-check"],[1,"fa-regular","fa-envelope"],[1,"fa-brands","fa-whatsapp"],[1,"fa-brands","fa-instagram"]],template:function(i,l){i&1&&(t(0,"footer",0)(1,"div",1)(2,"div",2),a(3,"img",3),o(),t(4,"div",4)(5,"h3"),r(6,"Institucional"),o(),t(7,"ul")(8,"li"),a(9,"i",5),r(10," Home"),o(),t(11,"li"),a(12,"i",5),r(13," Solu\xE7\xF5es"),o(),t(14,"li"),a(15,"i",5),r(16," Sobre N\xF3s"),o(),t(17,"li"),a(18,"i",5),r(19," Fale Conosco"),o(),t(20,"li"),a(21,"i",5),r(22," \xC1rea Cliente"),o(),t(23,"li"),a(24,"i",5),r(25," Contato"),o()()(),t(26,"div",4)(27,"h3"),r(28,"Solu\xE7\xF5es"),o(),t(29,"ul")(30,"li"),a(31,"i",5),r(32," Georreferenciamento"),o(),t(33,"li"),a(34,"i",5),r(35," Regulariza\xE7\xE3o"),o(),t(36,"li"),a(37,"i",5),r(38," Aerolevantamento"),o(),t(39,"li"),a(40,"i",5),r(41," Licenciamento Ambiental"),o(),t(42,"li"),a(43,"i",5),r(44," Minera\xE7\xE3o"),o()()(),t(45,"div",4)(46,"h3"),r(47,"Contato"),o(),t(48,"ul")(49,"li"),a(50,"i",6),r(51," contato@geosolucoes.top "),o(),t(52,"li"),a(53,"i",7),r(54," (31) 3058-2961"),o(),t(55,"li"),a(56,"i",8),r(57," geo_solucoes"),o()()()()())},dependencies:[x],styles:[".footer[_ngcontent-%COMP%]{background-color:#000;color:#fff;padding:20px}.footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:20px}.footer[_ngcontent-%COMP%]   .footer-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;max-width:100%}.footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]{flex:1;min-width:200px}.footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#7cd95b;font-size:18px;margin-bottom:10px}.footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;margin:5px 0;display:flex;align-items:center;gap:5px}.footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#7cd95b}@media (max-width: 768px){.footer[_ngcontent-%COMP%]{text-align:center}.footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.footer[_ngcontent-%COMP%]   .footer-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px}.footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]{min-width:100%}}"]})}return n})();var _=function(n){return n[n.ADMIN=1]="ADMIN",n[n.USER=2]="USER",n}(_||{});var K=(()=>{class n{http;constructor(e){this.http=e}register(e){return this.http.post(`${B.apiUrl}/Users`,e)}static \u0275fac=function(i){return new(i||n)(F(R))};static \u0275prov=y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Q=(n,h)=>({active:n,inactive:h});function ee(n,h){if(n&1){let e=S();t(0,"form",8),p("submit",function(){P(e);let l=u();return O(l.register())}),a(1,"input",9)(2,"input",10)(3,"input",11)(4,"input",12)(5,"input",13),t(6,"button",14),r(7,"Criar Conta"),o()()}if(n&2){let e=u();s("formGroup",e.registerForm)}}function te(n,h){if(n&1){let e=S();t(0,"form",8),p("submit",function(){P(e);let l=u();return O(l.login())}),a(1,"input",15),t(2,"span",16),r(3),o(),a(4,"input",17),t(5,"span",16),r(6),o(),t(7,"button",18),r(8,"Entrar"),o(),t(9,"a",19),r(10,"Esqueci minha senha"),o()()}if(n&2){let e=u();s("formGroup",e.loginForm),c(3),w(e.getErrorMessage("email")),c(3),w(e.getErrorMessage("password")),c(),s("disabled",!e.loginForm.valid)}}var Me=(()=>{class n{router;fb;authService;registerService;isRegister=!1;errorMessage=null;registerData={name:"",email:"",cell:"",password:"",confirmPassword:""};loginData={email:"",password:""};loginForm;registerForm;constructor(e,i,l,g){this.router=e,this.fb=i,this.authService=l,this.registerService=g,this.loginForm=this.fb.group({email:["",[m.required,m.email]],password:["",m.required]}),this.registerForm=this.fb.group({name:["",[m.required]],email:["",[m.required,m.email]],password:["",[m.required]],cell:["",[m.required]],userType:[_.USER,[m.required]]})}toggleForm(e){this.isRegister=e}register(){let{name:e,email:i,cell:l,password:g}=this.registerForm.value;if(!e||!i||!g)return;let W={name:e,email:i,cell:l,password:g,userType:_.USER};this.registerService.register(W).pipe(v(1),b(X=>{let ne=X?.error?.message||"Erro ao registrar.";return M})).subscribe(()=>{this.toggleForm(!1)})}login(){let e=this.loginForm.value;this.loginForm.valid&&this.authService.signin(e).pipe(v(1),b(i=>{let l=i.error.message;return this.errorMessage=l,M})).subscribe(i=>{i.jwtToken&&this.router.navigate(["/"])})}getErrorMessage(e){let i=this.loginForm.get(e);if(i&&(i.touched||i?.dirty)){if(i?.hasError("required"))return"Campo obrigat\xF3rio";if(i?.hasError("email"))return"Email inv\xE1lido"}return""}ngOnInit(){}static \u0275fac=function(i){return new(i||n)(d(L),d(A),d(Y),d(K))};static \u0275cmp=f({type:n,selectors:[["app-signin"]],standalone:!0,features:[C],decls:15,vars:10,consts:[[1,"container"],[1,"image-container"],["src","assets/images/login_img.png","alt","Imagem de exemplo"],[1,"divider"],[1,"form-container"],[1,"button-container"],[3,"click","ngClass"],[3,"formGroup","submit",4,"ngIf"],[3,"submit","formGroup"],["type","text","placeholder","Nome","formControlName","name"],["type","email","placeholder","Email","formControlName","email"],["type","tel","placeholder","Celular","formControlName","cell","pattern","[0-9]{10,11}"],["type","password","placeholder","Senha","formControlName","password"],["type","password","name","confirmPassword","placeholder","Confirmar Senha","autocomplete","current-password"],["type","submit"],["type","email","name","email","placeholder","Email","formControlName","email","autocomplete","email"],[1,"text-left","d-block","w-100","text-danger"],["type","password","placeholder","Senha","formControlName","password","autocomplete","current-password"],["type","submit",3,"disabled"],["href","#"]],template:function(i,l){i&1&&(t(0,"body")(1,"div",0)(2,"div",1),a(3,"img",2),o(),a(4,"div",3),t(5,"div",4)(6,"div",5)(7,"button",6),p("click",function(){return l.toggleForm(!0)}),r(8," Cadastre-se "),o(),t(9,"button",6),p("click",function(){return l.toggleForm(!1)}),r(10," Login "),o()(),k(11,ee,8,1,"form",7)(12,te,11,4,"form",7),o()()(),a(13,"app-footer")(14,"router-outlet")),i&2&&(c(7),s("ngClass",E(4,Q,l.isRegister,!l.isRegister)),c(2),s("ngClass",E(7,Q,!l.isRegister,l.isRegister)),c(2),s("ngIf",l.isRegister),c(),s("ngIf",!l.isRegister))},dependencies:[x,I,N,H,J,U,V,j,D,T,G,q,z],styles:["body[_ngcontent-%COMP%]{margin:0;padding:0;background-color:var(--light-gray-3);color:var(--gray)}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100vh;background-color:var(--light-gray-3);flex-wrap:wrap;padding:20px}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}.divider[_ngcontent-%COMP%]{width:3px;height:400px;background-color:var(--gray);margin:0 20px}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-width:400px;width:100%}.form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{border:1px solid var(--light-gray-2);padding:20px;width:100%;box-sizing:border-box;border-radius:8px;background-color:var(--white)}.form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:10px;margin:5px 0;box-sizing:border-box;display:block;border-radius:5px}.form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--green-2);color:var(--white);border:none;cursor:pointer;font-size:16px}.button-container[_ngcontent-%COMP%]{display:flex;width:100%;gap:5px}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;border:1px solid #ccc;background-color:#f5f5f5;cursor:pointer;transition:all .3s ease}.button-container[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:var(--green-2);color:var(--black);transform:scale(1.1);font-size:18px;padding:15px}.button-container[_ngcontent-%COMP%]   button.inactive[_ngcontent-%COMP%]{background-color:var(--black);color:var(--white);height:50px;font-size:16px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;max-width:400px;padding:20px;border-radius:10px;border:1px solid var(--gray)}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:10px;padding:10px;border:1px solid var(--green-1);border-radius:5px;width:100%}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;background-color:var(--green-2);color:var(--white);border:none;border-radius:5px;cursor:pointer;width:100%;max-width:150px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--green-3)}a[_ngcontent-%COMP%]{margin-top:10px;text-align:center;color:#007bff;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;height:auto}.divider[_ngcontent-%COMP%]{display:none}.form-container[_ngcontent-%COMP%]{max-width:90%}.form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:15px}.button-container[_ngcontent-%COMP%]{flex-direction:column}form[_ngcontent-%COMP%]{max-width:90%}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}"]})}return n})();export{Me as SigninComponent};
