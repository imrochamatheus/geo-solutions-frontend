import{a as m}from"./chunk-AJCXHZIR.js";import{b as d}from"./chunk-KCOFYTGJ.js";import{P as n,U as s,l as t,w as i}from"./chunk-URY3LSMO.js";var l=(()=>{class e{http;apiUrl=`${m.apiUrl}/City`;constructor(r){this.http=r}addCity(r){if(!r.name||r.name.trim().length===0)return t(()=>new Error("O nome da cidade \xE9 obrigat\xF3rio."));if(r.name.length>100)return t(()=>new Error("O nome da cidade deve ter no m\xE1ximo 100 caracteres."));if(!r.state||r.state.trim().length===0)return t(()=>new Error("O estado (UF) \xE9 obrigat\xF3rio."));if(r.state.length!==2)return t(()=>new Error("O estado (UF) deve ter exatamente 2 caracteres."));let a={Id:r.id,Name:r.name,State:r.state};return this.http.post(this.apiUrl,a).pipe(i(o=>o.status===409?t(()=>new Error("Essa cidade j\xE1 est\xE1 cadastrada.")):o.status===400?t(()=>new Error(o.error)):t(()=>new Error("Erro ao adicionar cidade."))))}getAllCities(){return this.http.get(this.apiUrl)}removeCity(r){return this.http.delete(`${this.apiUrl}/${r}`).pipe(i(a=>a.status===404?t(()=>new Error("Cidade n\xE3o encontrada.")):t(()=>new Error("Erro ao remover cidade."))))}static \u0275fac=function(a){return new(a||e)(s(d))};static \u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();export{l as a};
